!function(t,e,o,n){"use strict";var i=function(e,o){this.$element=e,this.defaults={isScroll:!1,bg:!0,bg_color:"rgba(0,0,0,0.5)",form_padding_top:"30%",animate_in:0,animate_out:0,close_mode:1,close_tag:n,show_pre_func:n,show_pre_param:n,show_after_func:n,show_after_param:n,hide_pre_func:n,hide_pre_param:n,hide_after_func:n,hide_after_param:n},this.form_info={$w:e.width(),$h:e.height()},this.defaults_2={tag_id:"jpub_auto_form",parent_tag:"body"},this.options=t.extend({},this.defaults,o),this.options_2=t.extend({},this.defaults_2,o)};i.prototype={show:function(){return a.show_pre_func(this),a.showBgDiv(this),a.showForm(this),this},create:function(){var e="<div class='jpub-' id="+this.options_2.tag_id+">好哈哈哈哈哈</div>";return t("body").append(e),t("#"+this.options_2.tag_id)}};var a={showBgDiv:function(e){var o=this;if(e.options.bg===!0){var i='<div id="jpub-bg">';i+="</div>",i+='<button class="jpub-close-span">Close</button>',t("html>body:eq(0)").append(i);var a=t("#jpub-bg");switch(a.addClass("jpub-bg"),a.css({"background-color":e.options.bg_color}),e.options.close_mode){case 1:t(".jpub-close-span").remove(),a.click(function(){o.hide_pre_func(e),o.hide(e,e.$element,e.options.animate_out,!1,o.hide_after_func),o.hide(e,t(this),n,!0),o.unBindScroll(e)});break;case 2:t(".jpub-close-span").click(function(){o.hide_pre_func(e),o.hide(e,e.$element,e.options.animate_out,!1,o.hide_after_func),o.hide(e,t("#jpub-bg"),n,!0),t(".jpub-close-span").unbind(),o.hide(e,t(this),n,!0)});break;case 3:t(".jpub-close-span").remove(),t(e.options.close_tag).click(function(){o.hide_pre_func(e),o.hide(e,e.$element,e.options.animate_out,!1,o.hide_after_func),o.hide(e,t("#jpub-bg"),n,!0),t(e.options.close_tag).unbind()})}o.isScroll(e),a.fadeIn()}return e},hide:function(t,e,o,n,i){return this.animate_out(t,e,o,n,i),e},showForm:function(t){var e=this;return t.$element.css({display:"block",position:"fixed",top:"100%",left:"0","z-index":2014}),e.animate_in(t,t.$element,t.options.animate_in,e.show_after_func),t},isScroll:function(e){e.options.isScroll===!1&&t("body").bind("touchmove",function(t){t.preventDefault()})},unBindScroll:function(e){t("body").unbind("touchmove")},animate_in:function(t,e,o,n){switch(o){case 0:e.addClass("jpub-center1"),e.css({top:t.options.form_padding_top,width:0,height:0}),e.animate({width:t.form_info.$w,height:t.form_info.$h},function(){n(t)});break;case 1:e.addClass("jpub-center1"),e.css({top:"-100%"}),e.animate({top:t.options.form_padding_top},function(){n(t)});break;case 2:e.addClass("jpub-center2"),e.css({top:t.options.form_padding_top,left:"100%"}),e.animate({left:"50%"},function(){n(t)});break;case 3:e.addClass("jpub-center1"),e.css({top:"100%"}),e.animate({top:t.options.form_padding_top},function(){n(t)});break;case 4:e.addClass("jpub-center2"),e.css({top:t.options.form_padding_top,left:"-100%"}),e.animate({left:"50%"},function(){n(t)});break;default:e.css({top:t.options.form_padding_top,left:"-100%"}),e.addClass("jpub-center1"),e.fadeIn(function(){n(t)})}},animate_out:function(t,e,o,i,a){switch(o){case 0:e.animate({width:"0",height:"0"},function(){e.hide(),e.css({width:t.form_info.$w,height:t.form_info.$h});var o=i===!0?e.remove():"";o=a===n?"":a(t)});break;case 1:e.animate({top:"-100%"},function(){var o=i===!0?e.remove():"";o=a===n?"":a(t)});break;case 2:e.animate({left:"100%"},function(){var o=i===!0?e.remove():"";o=a===n?"":a(t)});break;case 3:e.animate({top:"100%"},function(){var o=i===!0?e.remove():"";o=a===n?"":a(t)});break;case 4:e.animate({left:"-100%"},function(){var o=i===!0?e.remove():"";o=a===n?"":a(t)});break;default:e.fadeOut(function(){var o=i===!0?e.remove():"";o=a===n?"":a(t)})}},show_pre_func:function(t){var e=t.options.show_pre_func;"function"==typeof e&&e(t.options.show_pre_param)},show_after_func:function(t){var e=t.options.show_after_func;"function"==typeof e&&e(t.options.show_after_param)},hide_pre_func:function(t){var e=t.options.hide_pre_func;"function"==typeof e&&e(t.options.hide_pre_param)},hide_after_func:function(t){var e=t.options.hide_after_func;"function"==typeof e&&e(t.options.hide_after_param)}};t.fn.jShow=function(t){var e=new i(this,t);return e.show()},t.extend({jCreateForm:function(t){var e=new i(this,t);return e.create()}})}(jQuery,window,document);